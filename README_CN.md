# Sequencium - 基于搜索算法的实现

基于 Walter Joris 设计的 **Sequencium** 游戏的命令行实现，采用带有 Alpha-Beta 剪枝的 Minimax 搜索算法的 AI 玩家。

## 游戏规则

### 游戏目标
两名玩家在方格棋盘上扩展自己的数字序列，游戏结束时数字最大的玩家获胜。

### 游戏准备
- **棋盘**：方格网格（默认 6×6，可配置）
- **玩家**：2 名玩家（A 和 B）
- **开局位置**：
  - 玩家 A 在左上角 (0,0) 放置 `1`
  - 玩家 B 在右下角放置 `1`

### 核心规则
1. **每回合**：选择一个空格，该空格必须与你的任意一个数字相邻（8个方向）
2. **新数字**：放置的数字 = 相邻数字 + 1
3. **约束条件**：
   - 一个格子只能包含一个数字
   - 只能从自己的数字扩展
   - 如果有有效移动就不能跳过回合
   - 允许对角线移动

### 游戏结束
- 当双方都没有有效移动时游戏结束
- 胜者是棋盘上拥有最大数字的玩家
- 如果双方最大数字相同则为平局

## 功能特性

- ✅ 完整的游戏逻辑实现
- ✅ 带有 Alpha-Beta 剪枝的 Minimax 搜索算法
- ✅ 可配置棋盘大小
- ✅ 可配置 AI 搜索深度
- ✅ 命令行界面与可视化棋盘显示
- ✅ 移动分析和统计信息

## 安装

无需额外依赖！仅需 Python 3.6+

```bash
# 使脚本可执行
chmod +x sequencium.py
```

## 使用方法

### 基本用法
```bash
python3 sequencium.py
```

### 自定义棋盘大小
```bash
python3 sequencium.py 8  # 8x8 棋盘
```

### 自定义 AI 深度
```bash
python3 sequencium.py 6 5  # 6x6 棋盘，深度 5 搜索
```

### 交互模式（每步之间暂停）
```bash
python3 sequencium.py 6 4 interactive
```

## 命令行参数

```
python3 sequencium.py [board_size] [ai_depth] [interactive]

参数说明：
  board_size  - 方形棋盘的大小（默认：6）
  ai_depth    - AI 算法的搜索深度（默认：4）
  interactive - 启用交互模式（每步后暂停）
```

## 示例输出

```
╔══════════════════════════════════════════════════════════╗
║         SEQUENCIUM - AI Search Algorithm Demo            ║
║              Based on Walter Joris' Game                 ║
╚══════════════════════════════════════════════════════════╝

配置信息：
  棋盘大小：6x6
  AI 搜索深度：4
  交互模式：False

==================================================
SEQUENCIUM 游戏
棋盘大小：6x6
AI 搜索深度：4
==================================================

初始棋盘：
    0  1  2  3  4  5
  +------------------+
 0|A1  .  .  .  .  .|
 1| .  .  .  .  .  .|
 2| .  .  .  .  .  .|
 3| .  .  .  .  .  .|
 4| .  .  .  .  .  .|
 5| .  .  .  .  . B1|
  +------------------+

==================================================
回合 1：玩家 A 的回合
可用移动数：3
AI 选择：第 0 行，第 1 列，值 2
评估节点数：1234

...

==================================================
游戏结束！
==================================================

最终棋盘：
    0  1  2  3  4  5
  +------------------+
 0|A1 A2 A3 A4 A5 A6|
 1|A2 A3 A4 A5 A6 A7|
 2|A3 A4 A5 A6 A7 A8|
 3|B4 B5 B6 B7 A8 A9|
 4|B3 B4 B5 B6 B7 A8|
 5|B2 B3 B4 B5 B6 B7|
  +------------------+

玩家 A 最大值：9
玩家 B 最大值：7
总移动次数：34

🎉 获胜者：玩家 A！
==================================================
```

## 算法详情

### 搜索算法
AI 使用带有 **Alpha-Beta 剪枝**的 **Minimax** 算法来寻找最优移动。

### 评估函数
位置评估考虑以下因素：
1. **最大值差异**（权重：100）- 主要获胜条件
2. **控制格子数**（权重：10）- 控制的格子数量
3. **机动性**（权重：1）- 可用移动数量

### 性能表现
- 搜索深度 4：每步约 1000-5000 个节点（快速）
- 搜索深度 5：每步约 10000-50000 个节点（较慢但更智能）
- 搜索深度 6+：大棋盘可能较慢

## 实现细节

### 核心类

- **`Player`**：玩家 A 和玩家 B 的枚举
- **`GameBoard`**：管理游戏状态、有效移动和游戏规则
- **`SequenciumAI`**：实现带有 Alpha-Beta 剪枝的 Minimax

### 棋盘表示

棋盘使用二维数组，每个格子包含：
- 空格子为 `None`
- 被占用的格子为 `(Player, value)` 元组

## 测试

运行单元测试：

```bash
python3 test_sequencium.py
```

## 示例游戏

参见 `EXAMPLES.md` 文件查看不同配置下的游戏示例输出。

## 许可证

MIT 许可证 - 详见 LICENSE 文件

## 作者

实现：Colin Wang (2026)  
基于：Walter Joris 的 Sequencium 游戏
